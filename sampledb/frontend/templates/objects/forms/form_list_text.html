<div class="error-parent form-group" style="padding-right:0.75em; flex-grow: 1">
    {% if schema.markdown %}
      <textarea style="resize: vertical; min-height: 171px;" class="form-control" data-markdown-textarea="true" name="{{ id_prefix }}_text" placeholder="{{ (schema.placeholder or schema.title) | get_translated_text }}">{% if id_prefix+'_text' in form_data %}{{ form_data[id_prefix+'_text'] }}{% elif data is not none and "text" in data %}{{ data.text | get_all_translated_texts('\n') }}{% endif %}</textarea>
    {% elif 'multiline' in schema and schema['multiline']  %}
      <textarea style="resize: vertical; min-height:2.5em; height:4em;" type="text" class="form-control" name="{{ id_prefix }}_text" placeholder="{{ (schema.placeholder or schema.title) | get_translated_text }}">{% if id_prefix+'_text' in form_data %}{{ form_data[id_prefix+'_text'] }}{% elif data is not none and "text" in data %}{{ data.text | get_all_translated_texts('\n') }}{% endif %}</textarea>
    {% elif 'choices' in schema %}
    <select {% if is_template %} class="template-select" data-template-class="form-control selectpicker choicepicker" {% else %} class="choicepicker form-control selectpicker" {% endif %} {% if data.text %} data-sampledb-default="{{ data.text }}" {% else %} data-sampledb-default="{{ schema['default'] }}" {% endif %} name="{{ id_prefix }}_text">
      {% if form_data.get(id_prefix+'_text', '') != '' or (data is not none and data.get('text', '') != '') %}
        {% if not is_required %}
          <option value="">&mdash;</option>
        {% endif %}
      {% else %}
      {% if not (is_template and schema['default'] and is_required) %}
        <option selected="selected" value="">&mdash;</option>
      {% endif %}
      {% endif %}
      {% for option in schema.choices %}
        {% if id_prefix+'_text' in form_data %}
          {% if form_data[id_prefix+'_text'] == ( option | to_string_if_dict ) %}
          <option value="{{ option }}" selected="selected">{{ option | get_translated_text }}</option>
          {% else %}
          <option value="{{ option }}">{{ option | get_translated_text }}</option>
          {% endif %}
        {% elif data is not none and "text" in data %}
          {% if data.text == option %}
          <option value="{{ option }}" selected="selected">{{ option | get_translated_text }}</option>
          {% else %}
          <option value="{{ option }}">{{ option | get_translated_text }}</option>
          {% endif %}
        {% else %}
          <option value="{{ option }}">{{ option | get_translated_text }}</option>
        {% endif %}
      {% endfor %}
      </select>
    {% else %}
      <input type="text" class="form-control" name="{{ id_prefix }}_text" placeholder="{{ (schema.placeholder or schema.title) | get_translated_text }}" {% if id_prefix+'_text' in form_data %}value="{{ form_data[id_prefix+'_text'] }}"{% elif data is not none and "text" in data %}value="{{ data.text | get_all_translated_texts(' ') }}"{% elif "default" in schema %}value="{{ schema.default | get_all_translated_texts(' ') }}"{% endif %}>
    {% endif %}
    <span class="error-note help-block"></span>
</div>
